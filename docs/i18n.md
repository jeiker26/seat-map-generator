# Internationalization (i18n)

## Overview

This project uses `react-i18next`.

Namespaces are configured in `i18n.js` (e.g. `common`, `newCommon`).

## Recommended translation pattern

Use `useTranslation()` to get the `t` function for the namespace you need, then wrap it with `tw` (exported from `@/core`).

```tsx
import { tw } from '@/core'
import { useTranslation } from 'react-i18next'

const { t } = useTranslation('newCommon')

const label = tw(t, 'common.alert.types.critical')
```

## Where translation keys live

Translation keys and source strings are created in English only.

- `public/static/locales/en/newCommon.json`

Example (from `newCommon.json`):

- Key: `common.alert.types.critical`
- Value: `Critical`

## Interpolation

`tw` forwards interpolation parameters to `t`:

```tsx
tw(t, 'common.actions.goTo', { action: 'Profile' })
```

## Key conventions (newCommon)

### Domain roots

Keys are grouped under a top-level domain root to keep the key space organized and easy to navigate.

Common examples:

- `common` for shared UI copy (actions, errors, generic labels)
- Feature roots like `announcements` for module-specific copy

### Nested objects and dot notation

Keys are stored as nested objects in JSON and referenced from code using dot notation.

Example:

- JSON path: `announcements -> steps -> composeStep -> title`
- Key used in code: `announcements.steps.composeStep.title`

### Standard groups

Inside each domain, some common sub-groups are used consistently:

- `actions` for CTA labels (e.g. `announcements.actions.createAnnouncement`)
- `errors` for error messages (often deeply nested)
- `feedback` for UI feedback states (e.g. empty/error/success)
- `steps` for wizard/flow copy grouped by step

### Pluralization

Pluralized keys use the i18next suffix convention:

- `<key>_one`
- `<key>_other`

Usage relies on `count`:

```tsx
tw(t, 'common.daysToExpire', { count: 1 })
tw(t, 'common.daysToExpire', { count: 2 })
```

### Formatting

Some translations include formatting characters such as Markdown (e.g. `**bold**`) and/or explicit newlines (`\n`).

Be mindful of where and how these strings are rendered so formatting is supported safely.

## Debugging: show translation keys

If the URL contains `showKeys` (for example `?showKeys`), `tw` will render placeholders instead of the translated text:

- `tw(t, 'common.alert.types.critical')` -> `{{common.alert.types.critical}}`

This is useful to quickly identify which i18n key is being used on screen.

## `tw` implementation reference

`tw` is the default export from:

- `src/modules/core/utils/translates/wrapperTranslate.utils.tsx`

It is re-exported as `tw` from:

- `src/modules/core/index.ts` (alias: `@/core`)
